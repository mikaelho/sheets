{% load static  %}
<html>
<head>
    <style>
        @font-face {font-family: 'Ingeborg'; src: local('Ingeborg Striped'), local('Ingeborg-Striped'), url({% static 'Ingeborg-Striped.woff2' %}) format('woff2'); font-weight: normal; font-style: normal;}
        @font-face {font-family: 'IngeborgHeavy'; src: local('Ingeborg-Heavy'), url({% static 'ingeborg-heavy.otf' %}) format('opentype'); font-weight: bold; font-style: normal;}
        @font-face {font-family: 'CalendasPlus'; src: local('calendas'), url({% static 'calendas.woff2' %}) format('woff2'); font-weight: normal; font-style: normal;}
        :root {
          --main-color: #cbad84;
        }
        * {
            font-family: CalendasPlus, Didot, 'Bodoni MT', 'Noto Serif Display', 'URW Palladio L', P052, Sylfaen, serif;
        }
        body { background-color: var(--main-color); }
        details {background-color: white; padding: 20px; }
        summary { padding-bottom: 10px; }
        table tr td {
          border-right: 1px solid var(--main-color);
          padding: 10px;
          width: 250px;
          vertical-align: top;
        }
        table tr td:last-of-type {
          border: none;
        }
        summary::marker {
          content: "";
        }
        .notes { min-height: 50px; }
        .asMarkdown { padding: 4px; }
        ol {
            margin-top: 0;
            margin-left: 0;
            padding-left: 20px;
        }
        ul {
            margin-top: 0;
            margin-left: 0;
            padding-left: 20px;
        }
        .gridWrap {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }
        .card {
            width: 200px;
            background: white;
            box-shadow: 0 0.5rem 1rem #cbad8444;
            border-radius: 4px; padding: 10px;
        }
        .pageTitle {font-family: Ingeborg; font-size: 40px;}
        .sectionTitle {font-family: IngeborgHeavy; font-size: 20px;}
        .caseTitle {font-family: Ingeborg; font-size: 32px;}
    </style>
    <script>
        function startEditNote(element) {
            element.style.display = "none";
            const markdown = element.parentElement.getElementsByClassName("asMarkdown")[0];
            markdown.style.display = "inherit";
            markdown.focus();
        }
        function stopEditNote(element) {
            const csrf_token = document.querySelector('[name=csrfmiddlewaretoken]').value;
            fetch("update_note", {
                method: "POST",
                headers: {"Content-Type": "application/json", "X-CSRFToken": csrf_token},
                body: JSON.stringify({noteId: element.parentElement.id, value: element.innerText}),
            })
            .then((response) => response.json())
            .then((data) => {element.parentElement.innerHTML = data["content"]});
        }
    </script>
</head>
<body>
    {% csrf_token %}
    <p class="pageTitle">{{ title }}</p>
    <p>{{ subtitle }}</p>
    {% for case in cases %}
        {{ case }}
    {% endfor %}
</body>
</html>
